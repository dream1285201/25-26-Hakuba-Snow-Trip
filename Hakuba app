<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>â„ï¸ ç™½é¦¬é›ªåœ‹ä¹‹æ—… (ç§»å‹•ç‰ˆ) â›·ï¸</title>
    <!-- è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- è¼‰å…¥ Vue 3 (CDN ç‰ˆæœ¬) -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- è¼‰å…¥ Lucide Icons for aesthetic icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* è‡ªå®šç¾© Tailwind é…ç½® */
        /* ä½¿ç”¨ Inter å­—é«” */
        :root {
            --color-primary: #3b82f6; /* å†°é›ªè— */
            --color-secondary: #0f172a; /* æ·±å¤œè—/åº•è‰² */
            --color-text: #e2e8f0; /* æ·ºç°ç™½ */
            --color-card: #1e293b; /* å¡ç‰‡èƒŒæ™¯ */
            --color-onsen: #ff8f68; /* æº«æ³‰æ©˜ */
        }

        body {
            background-color: var(--color-secondary);
            font-family: 'Inter', sans-serif;
            color: var(--color-text);
            /* æ¨¡æ“¬æ‰‹æ©Ÿ App é‚Šç·£çš„æŸ”è»Ÿåº¦ */
            overflow-x: hidden; 
        }

        /* æ¨¡æ“¬æ‰‹æ©Ÿ App å®¹å™¨ï¼Œé™åˆ¶æœ€å¤§å¯¬åº¦ï¼Œä¸¦ç½®ä¸­ */
        #app {
            max-width: 450px;
            margin: 0 auto;
            min-height: 100vh;
            background-color: #0f172a; /* ç¢ºä¿ä¸»å…§å®¹å€èƒŒæ™¯ä¸€è‡´ */
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.5); /* å¢åŠ  App è³ªæ„Ÿé™°å½± */
        }

        /* è¡Œç¨‹å¡ç‰‡çš„éæ¸¡æ•ˆæœ */
        .details-enter-active, .details-leave-active {
            transition: all 0.3s ease-out;
            max-height: 300px;
        }
        .details-enter-from, .details-leave-to {
            opacity: 0;
            transform: translateY(-10px);
            max-height: 0;
            padding-top: 0 !important;
            padding-bottom: 0 !important;
        }
        
        /* é é¦–åœ–ç‰‡å®¹å™¨ */
        .banner-container {
            height: 250px;
            overflow: hidden;
            background-color: #1a202c;
        }

        /* æº«æ³‰æ¨™ç±¤å‹•ç•« */
        .onsen-tag {
            animation: pulse-onsen 2s infinite;
        }

        @keyframes pulse-onsen {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.03); opacity: 0.8; }
        }

    </style>
</head>
<body>

<div id="app" class="pb-10">
    
    <!-- 1. é é¦– Banner (æ»¿ç‰ˆå†°é›ªå±±æ™¯) -->
    <div class="banner-container relative">
        <!-- åœ–ç‰‡å°ºå¯¸ 1920x400 placeholder for image_db5bdc.png -->
        <img src="https://placehold.co/1920x400/0f172a/94a3b8?text=Hakuba+Snow+Banner"
             onerror="this.onerror=null;this.src='https://placehold.co/1920x400/0f172a/94a3b8?text=Hakuba+Snow+Banner'"
             alt="ç™½é¦¬é›ªå±±æ©«å¹…"
             class="w-full h-full object-cover">
        
        <div class="absolute inset-0 bg-black bg-opacity-30 flex items-end p-6">
            <h1 class="text-3xl font-bold text-white tracking-wider drop-shadow-lg">
                ç™½é¦¬é›ªåœ‹ä¹‹æ—… â„ï¸
            </h1>
        </div>
    </div>

    <!-- 2. è¡Œç¨‹åˆ—è¡¨ -->
    <main class="p-4 pt-6">
        <p class="text-sm text-gray-400 mb-6 text-center">11å¤©10å¤œ / 12/27 - 01/06</p>

        <div v-for="(item, index) in itinerary" :key="index"
             class="bg-gray-800/50 backdrop-blur-sm rounded-xl mb-4 shadow-xl overflow-hidden transition-all duration-300 hover:shadow-2xl hover:shadow-sky-500/20">
            
            <!-- å¡ç‰‡æ¨™é¡Œ (é»æ“Šå€) -->
            <div @click="toggleDetails(index)"
                 class="p-4 flex justify-between items-center cursor-pointer transition-colors duration-200"
                 :class="{ 'bg-gray-700/70': item.expanded, 'bg-gray-800': !item.expanded }">
                
                <div class="flex items-start flex-col">
                    <p class="text-xs text-sky-400 font-medium mb-1">{{ item.date }} | {{ item.day }}</p>
                    <h2 class="text-lg font-semibold text-white flex items-center">
                        <i :data-lucide="getIconName(item.main)" class="w-5 h-5 mr-2" :class="getIconColor(item.main)"></i>
                        {{ item.main }}
                    </h2>
                    <span v-if="item.onsen" class="onsen-tag text-sm font-bold mt-1" :style="{ color: 'var(--color-onsen)' }">
                        â™¨ï¸ {{ item.onsen }}
                    </span>
                </div>
                
                <i :data-lucide="item.expanded ? 'chevron-up' : 'chevron-down'" class="w-6 h-6 text-sky-400 transition-transform duration-300"></i>
            </div>

            <!-- 3. è©³ç´°å…§å®¹ (å¯å±•é–‹/æ”¶åˆ) -->
            <Transition name="details">
                <div v-show="item.expanded" class="p-4 pt-2 border-t border-gray-700/50">
                    <h3 class="text-base font-semibold text-sky-300 mb-2">æ´»å‹•é‡é»ï¼š{{ item.activity }}</h3>
                    <ul class="list-none p-0 space-y-2 text-sm text-gray-300">
                        <li v-for="(detail, i) in item.details" :key="i" class="flex items-start">
                            <span class="text-sky-400 mr-2 mt-1">â€¢</span>
                            <span>{{ detail }}</span>
                        </li>
                    </ul>

                    <!-- 4. Google Maps & å°èˆªæ•´åˆ -->
                    <div class="mt-4 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2">
                        <a :href="getMapLink(item.mapLocation)" target="_blank"
                           class="flex-grow flex items-center justify-center p-2 rounded-lg text-white font-medium transition-colors duration-200"
                           :class="item.mapLocation ? 'bg-sky-600 hover:bg-sky-700' : 'bg-gray-500 cursor-not-allowed'"
                           :disabled="!item.mapLocation">
                            <i data-lucide="map-pin" class="w-4 h-4 mr-2"></i>
                            åœ¨åœ°åœ–ä¸ŠæŸ¥çœ‹
                        </a>
                    </div>
                </div>
            </Transition>
        </div>
    </main>
</div>

<script>
    const { createApp, ref, onMounted } = Vue;

    createApp({
        setup() {
            const itinerary = ref([
                {
                    date: '12/27 (äº”)', day: 'Day 1', main: 'æŠµé”æ±äº¬ (NRT) âœˆï¸', activity: 'é•·é€”é§•é§›è‡³ç™½é¦¬', accommodation: 'é›ªãƒéŸ³', onsen: '',
                    mapLocation: 'æˆç”°åœ‹éš›æ©Ÿå ´',
                    details: ['è¯èˆª CI104 12:35 å‡ºç™¼ï¼Œé è¨ˆå‚æ™šæŠµé”ã€‚', 'æ©Ÿå ´å–è»Š (4WD + é›ªèƒ)ã€‚', 'è»Šç¨‹ç´„ 5.5 å°æ™‚ï¼Œæ³¨æ„å®‰å…¨ã€‚'], expanded: false
                },
                {
                    date: '12/28 (æ—¥)', day: 'Day 2', main: 'æ»‘é›ªæ—¥ 1ï¼šæ ‚æ± é«˜åŸ â›·ï¸', activity: 'å¯¬é—Šé›ªé“æš–èº«é©æ‡‰', accommodation: 'é›ªãƒéŸ³', onsen: '',
                    mapLocation: 'æ ‚æ± é«˜åŸæ»‘é›ªå ´',
                    details: ['é›ªå ´ç‰¹è‰²ï¼šå¯¬é—Šç·©å¡ï¼Œæ¥µé©åˆä½œç‚ºç¬¬ä¸€å¤©çš„ç†±èº«ã€‚', 'å»ºè­°ï¼šå°ˆæ³¨æ–¼åŸºç¤æŠ€å·§ï¼Œç¿’æ…£é›ªæ„Ÿã€‚'], expanded: false
                },
                {
                    date: '12/29 (ä¸€)', day: 'Day 3', main: 'æ»‘é›ªæ—¥ 2ï¼šç™½é¦¬å²©å²³ â›·ï¸', activity: 'ä¸­ç´šé›ªé“ã€å±±é ‚è§€æ™¯', accommodation: 'é›ªãƒéŸ³', onsen: 'å€‰ä¸‹ä¹‹æ¹¯',
                    mapLocation: 'ç™½é¦¬å²©å²³é›ªå ´',
                    details: ['é›ªå ´ç‰¹è‰²ï¼šå¿…è¨ª HAKUBA MOUNTAIN HARBOR è§€æ™¯å°ã€‚', 'æº«æ³‰ï¼šæ™šé¤å¾Œå‰å¾€å€‰ä¸‹ä¹‹æ¹¯ï¼Œäº«å—çµ•ä½³éœ²å¤©é¢¨å‘‚ã€‚'], expanded: false
                },
                {
                    date: '12/30 (äºŒ)', day: 'Day 4', main: 'æ»‘é›ªæ—¥ 3ï¼šå…«æ–¹å°¾æ ¹ â›·ï¸', activity: 'æŒ‘æˆ°é–‹å§‹ - å¥§é‹è³½é“', accommodation: 'é›ªãƒéŸ³', onsen: '',
                    mapLocation: 'å…«æ–¹å°¾æ ¹æ»‘é›ªå ´',
                    details: ['é›ªå ´ç‰¹è‰²ï¼šæŒ‘æˆ°ç™½é¦¬æœ€é™¡å³­çš„å¥§é‹è³½é“èˆ‡é»‘ç·šå€ã€‚', 'å»ºè­°ï¼šå¾å…å¹³é–‹å§‹é©æ‡‰ï¼Œæ³¨æ„å®‰å…¨ã€‚'], expanded: false
                },
                {
                    date: '12/31 (ä¸‰)', day: 'Day 5', main: 'æ»‘é›ªæ—¥ 4ï¼šå…«æ–¹å°¾æ ¹ â›·ï¸', activity: 'æŒ‡å®šæ—¥æ»‘é›ª', accommodation: 'é›ªãƒéŸ³', onsen: 'å…«æ–¹æº«æ³‰ O-yu',
                    mapLocation: 'å…«æ–¹æº«æ³‰ O-yu',
                    details: ['ç­–ç•¥ï¼šå°ˆæ³¨æ–¼é«˜ç´šé›ªé“çš„å®Œæˆã€‚', 'æº«æ³‰ï¼šå…«æ–¹æº«æ³‰ O-yuï¼Œä½æ–¼å…«æ–¹ä¸­å¿ƒï¼Œé«”é©—ç¾è‚Œä¹‹æ¹¯ï¼Œæ™šä¸Šç•™æ„è·¨å¹´æ´»å‹•ã€‚'], expanded: false
                },
                {
                    date: '01/01 (å››)', day: 'Day 6', main: 'ä¼‘æ¯æ—¥ï¼šæˆ¶éš±ç¥ç¤¾ â›©ï¸', activity: 'æ–°å¹´åƒæ‹œèˆ‡å·¨æœ¨æ—', accommodation: 'é›ªãƒéŸ³', onsen: '',
                    mapLocation: 'æˆ¶éš±ç¥ç¤¾',
                    details: ['é¿å³°ï¼šå…ƒæ—¦äººæ½®çœ¾å¤šï¼Œæ¸…æ™¨å‡ºç™¼æ‹æ”å·¨æœ¨æ—ï¼Œé¿é–‹åƒæ‹œæ™‚æ®µã€‚', 'å‘¨é‚Šï¼šå¯æ­é…é•·é‡å¸‚å–„å…‰å¯ºæˆ–å°å¸ƒæ–½ç”ºã€‚', 'é§•é§›ï¼šå–®ç¨‹ç´„ 1.5-2 å°æ™‚ã€‚'], expanded: false
                },
                {
                    date: '01/02 (äº”)', day: 'Day 7', main: 'æ»‘é›ªæ—¥ 5ï¼šäº”ç«œ & 47 â›·ï¸', activity: 'åœ°å½¢èˆ‡é›ªæ¿å…¬åœ’', accommodation: 'é›ªãƒéŸ³', onsen: 'é¾ç¥ä¹‹æ¹¯',
                    mapLocation: 'ç™½é¦¬äº”ç«œæ»‘é›ªå ´',
                    details: ['é›ªå ´ç‰¹è‰²ï¼š47æœ‰é«˜å“è³ªçš„é›ªæ¿å…¬åœ’ï¼Œäº”ç«œé›ªé“å¯¬æ•ã€‚', 'æº«æ³‰ï¼šé¾ç¥ä¹‹æ¹¯ï¼Œä½æ–¼äº”ç«œ Escal Plaza å…§ï¼Œæ»‘å®Œç›´æ¥æ³¡æ¹¯æœ€æ–¹ä¾¿ã€‚'], expanded: false
                },
                {
                    date: '01/03 (å…­)', day: 'Day 8', main: 'æ»‘é›ªæ—¥ 6ï¼šSanosaka â›·ï¸', activity: 'é’æœ¨æ¹–æ™¯è§€æ»‘é›ª', accommodation: 'é›ªãƒéŸ³', onsen: '',
                    mapLocation: 'ç™½é¦¬ Sanosaka æ»‘é›ªå ´',
                    details: ['é›ªå ´ç‰¹è‰²ï¼šäººæ½®ç›¸å°ç¨€ç–ï¼Œæ“æœ‰é¢å‘é’æœ¨æ¹–çš„çµ•ç¾æ™¯è§€ã€‚', 'å»ºè­°ï¼šé©åˆè¼•é¬†æ»‘è¡Œèˆ‡æ‹ç…§ã€‚'], expanded: false
                },
                {
                    date: '01/04 (æ—¥)', day: 'Day 9', main: 'æ»‘é›ªæ—¥ 7ï¼šCortina & Norikura â›·ï¸', activity: 'ç²‰é›ªè¿½é€ (Powder Day)', accommodation: 'é›ªãƒéŸ³', onsen: '',
                    mapLocation: 'ç™½é¦¬ Cortina åœ‹éš›æ»‘é›ªå ´',
                    details: ['é›ªå ´ç‰¹è‰²ï¼šç´ æœ‰ã€ŒPowder Kingdomã€ç¾è­½ï¼Œè¿½é€æœ€æ·±ã€æœ€é¬†è»Ÿçš„ç²‰é›ªã€‚', 'æ³¨æ„ï¼šè‹¥é‡æ–°é›ªï¼Œäººæ½®è¼ƒå¤šã€‚'], expanded: false
                },
                {
                    date: '01/05 (ä¸€)', day: 'Day 10', main: 'ä¼‘æ¯æ—¥ï¼šæº«æ³‰å·¡ç¦® â™¨ï¸', activity: 'æ¾æœ¬åŸæˆ–ç™½é¦¬æº«æ³‰å·¡ç¦®', accommodation: 'é›ªãƒéŸ³', onsen: '',
                    mapLocation: 'æ¾æœ¬åŸ',
                    details: ['é¸é …ï¼šè‡ªé§• 1.5 å°æ™‚åˆ°åœ‹å¯¶ç´šæ¾æœ¬åŸåƒè§€ã€‚', 'æ”¾é¬†ï¼šåœ¨ç™½é¦¬æ‘å…§é€²è¡Œæœ€å¾Œæ¡è²·ï¼Œæˆ–å†æ¬¡å‰å¾€å–œæ­¡çš„æº«æ³‰ã€‚'], expanded: false
                },
                {
                    date: '01/06 (äºŒ)', day: 'Day 11', main: 'è¿”ç¨‹ï¼šç¶“è¼•äº•æ¾¤ ğŸš—', activity: 'é–‹è»Šå›æ±äº¬ (NRT)ã€é‚„è»Šã€è¿”å°', accommodation: 'è¡Œç¨‹çµæŸ', onsen: '',
                    mapLocation: 'è¼•äº•æ¾¤',
                    details: ['ä¸­é€”ä¼‘æ¯ç«™ï¼šè¼•äº•æ¾¤ (Karuizawa)ï¼Œå¾ç™½é¦¬é–‹è»Šç´„ 2.5 å°æ™‚ã€‚', 'å»ºè­°ï¼šå¯åœ¨ Harunire Terrace æˆ–èˆŠè¼•äº•æ¾¤éŠ€åº§ç¨ä½œä¼‘æ¯èˆ‡åˆé¤ã€‚', 'è¿”ç¨‹ï¼šè¼•äº•æ¾¤åˆ° NRT ä»éœ€ç´„ 3 å°æ™‚è»Šç¨‹ã€‚CI109 19:30 å‡ºç™¼ã€‚'], expanded: false
                }
            ]);

            // å±•é–‹/æ”¶åˆå¡ç‰‡ç´°ç¯€
            const toggleDetails = (index) => {
                // å¯¦ä½œå–®ç¨æ”¶åˆï¼Œå…¶ä»–ä¿æŒä¸è®Š
                itinerary.value[index].expanded = !itinerary.value[index].expanded;
            };

            // æ ¹æ“šæ´»å‹•å…§å®¹é¸æ“‡ Lucide Icon
            const getIconName = (main) => {
                if (main.includes('æ»‘é›ª')) return 'snowflake';
                if (main.includes('æŠµé”') || main.includes('è¿”ç¨‹')) return 'plane-takeoff';
                if (main.includes('ç¥ç¤¾') || main.includes('æ¾æœ¬åŸ')) return 'temple';
                if (main.includes('æº«æ³‰') || main.includes('ä¼‘æ¯')) return 'heart-handshake';
                return 'map-pin';
            };

            // æ ¹æ“šæ´»å‹•å…§å®¹é¸æ“‡åœ–æ¨™é¡è‰²
            const getIconColor = (main) => {
                if (main.includes('æ»‘é›ª')) return 'text-sky-300';
                if (main.includes('æŠµé”') || main.includes('è¿”ç¨‹')) return 'text-indigo-400';
                if (main.includes('ç¥ç¤¾') || main.includes('æ¾æœ¬åŸ')) return 'text-yellow-400';
                if (main.includes('æº«æ³‰') || main.includes('ä¼‘æ¯')) return 'text-red-400';
                return 'text-gray-400';
            };
            
            // ç”Ÿæˆ Google Maps é€£çµ (ç„¡éœ€ API Key å³å¯å°èˆª)
            const getMapLink = (location) => {
                if (!location) return '#';
                const base = 'https://www.google.com/maps/search/';
                const encodedLocation = encodeURIComponent(location);
                return `${base}${encodedLocation}`;
            };
            
            // Vue çµ„ä»¶æ›è¼‰å¾Œåˆå§‹åŒ– Lucide Icons
            onMounted(() => {
                // ä½¿ç”¨ Lucide æä¾›çš„å‡½å¼æ¸²æŸ“æ‰€æœ‰ data-lucide çš„å…ƒç´ 
                lucide.createIcons();
            });

            return {
                itinerary,
                toggleDetails,
                getIconName,
                getIconColor,
                getMapLink
            };
        }
    }).mount('#app');
</script>

</body>
</html>

